@{
    Layout = null;
    ViewBag.Title = "管理后台-用户信息";
}

<!DOCTYPE html>

<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <title>@ViewBag.Title</title>
    <link href="~/Content/Admin/css/bootstrap-cerulean.min.css" rel="stylesheet" />
    <link href="~/Content/Admin/css/charisma-app.css" rel="stylesheet" />
    <link href="~/Content/common.css" rel="stylesheet" />
    <link href="~/Content/laydate/need/laydate.css" rel="stylesheet" />
    <script src="~/Scripts/jquery-1.10.2.min.js"></script>
    <script src="~/Scripts/comm.js"></script>
</head>
<body>
    <div id="content" class="main-content">
        <div class="">
            <div class="carousel box-inner">
                <div class="box-header well clearfix" data-original-title="">
                    <h2><i class="glyphicon glyphicon-hand-right"></i>目前操作功能：@ViewBag.Title</h2>
                </div>
                <ul class="media nav nav-tabs margin-b-10">
                    <li>
                        <a href="AccountsInfo?param=@ViewBag.Param" title="">基本信息</a>
                    </li>
                    <li class="active">
                        <a href="javascript:void(0);" title="">详细信息</a>
                    </li>
                    <li>
                        <a href="AccountsTreasureInfo?param=@ViewBag.Param" title="">财富信息</a>
                    </li>
                    <li>
                        <a href="javascript:void(0);" title="" style="display:none">积分信息</a>
                    </li>
                    <li>
                        <a href="AccountsRecordInfo?param=@ViewBag.Param" title="">记录信息</a>
                    </li>
                </ul>
                <div class="tab-content" style="margin-top:-11px">
                    <div class="panel panel-primary">
                        <div class="panel-heading">
                            <h3 class="panel-title">详细信息</h3>
                        </div>
                        <div class="panel-body">
                            <div class="row" style="margin-top:5px;margin-bottom:5px;">
                                <div class="col-xs-2 col-md-1" style="text-align:right">ID号码：</div>
                                <div class="col-xs-2 col-md-1"><label id="ltGameID1">@(ViewBag.GameID != null ? ViewBag.GameID : "")</label></div>
                                <div class="col-xs-2 col-md-1" style="text-align:right">帐号：</div>
                                <div class="col-xs-2 col-md-1" style="text-align:left"><label id="ltAccounts1">@(ViewBag.Accounts != null ? ViewBag.Accounts : "")</label></div>
                                <div class="col-xs-2 col-md-1" style="text-align:left">身份证号码：</div>
                                <div class="col-xs-2 col-md-1" style="text-align:left"><label id="ltCardNum">@(ViewBag.CardNum != null ? ViewBag.CardNum : "")</label></div>
                            </div>
                            <div class="row" style="margin-top:5px;margin-bottom:5px;">
                                <div class="col-xs-2 col-md-1" style="text-align:right">真实姓名：</div>
                                <div class="col-xs-6 col-md-3"><input id="txtCompellation" style="width:350px;display:inline;" class="form-control input-sm" type="text" value="@(ViewBag.Compellation != null ? ViewBag.Compellation : "")"></div>
                                <div class="col-xs-4 col-md-2" style="text-align:left"></div>
                            </div>
                            <div class="row" style="margin-top:5px;margin-bottom:5px;">
                                <div class="col-xs-2 col-md-1" style="text-align:right">银行卡号：</div>
                                <div class="col-xs-6 col-md-3"><input id="txtBankNO" style="width:350px;display:inline;" maxlength="25" onkeyup="if(isNaN(value))execCommand('undo');" class="form-control input-sm" type="text" value="@(ViewBag.BankNO != null ? ViewBag.BankNO : "")"></div>
                                <div class="col-xs-4 col-md-2" style="text-align:left"></div>
                            </div>
                            <div class="row" style="margin-top:5px;margin-bottom:5px;">
                                <div class="col-xs-2 col-md-1" style="text-align:right">银行名称：</div>
                                <div class="col-xs-6 col-md-3"><input id="txtBankName" style="width:350px;display:inline;" maxlength="25" class="form-control input-sm" type="text" value="@(ViewBag.BankName != null ? ViewBag.BankName : "")"></div>
                                <div class="col-xs-4 col-md-2" style="text-align:left"></div>
                            </div>
                            <div class="row" style="margin-top:5px;margin-bottom:5px;">
                                <div class="col-xs-2 col-md-1" style="text-align:right">银行地址：</div>
                                <div class="col-xs-6 col-md-3"><input id="txtBankAddress" style="width:350px;display:inline;" maxlength="120" class="form-control input-sm" type="text" value="@(ViewBag.BankAddress != null ? ViewBag.BankAddress : "")"></div>
                                <div class="col-xs-4 col-md-2" style="text-align:left"></div>
                            </div>
                            <div class="row" style="margin-top:5px;margin-bottom:5px;">
                                <div class="col-xs-2 col-md-1" style="text-align:right">QQ号码：</div>
                                <div class="col-xs-6 col-md-3"><input id="txtQQ" style="width:350px;display:inline;" class="form-control input-sm" type="text" maxlength="16" onkeyup="if(isNaN(value))execCommand('undo');" value="@(ViewBag.QQ != null ? ViewBag.QQ : "")"></div>
                                <div class="col-xs-4 col-md-2" style="text-align:left">QQ字符长度不可超过16个字符</div>
                            </div>
                            <div class="row" style="margin-top:5px;margin-bottom:5px;">
                                <div class="col-xs-2 col-md-1" style="text-align:right">电子邮箱：</div>
                                <div class="col-xs-6 col-md-3"><input id="txtEMail" style="width:350px;display:inline;" class="form-control input-sm" type="text" maxlength="32" value="@(ViewBag.EMail != null ? ViewBag.EMail : "")"></div>
                                <div class="col-xs-4 col-md-2" style="text-align:left">电子邮箱字符长度不可超过32个字符</div>
                            </div>
                            <div class="row" style="margin-top:5px;margin-bottom:5px;">
                                <div class="col-xs-2 col-md-1" style="text-align:right">固定电话：</div>
                                <div class="col-xs-6 col-md-3"><input id="txtSeatPhone" style="width:350px;display:inline;" class="form-control input-sm" type="text" maxlength="32" onkeyup="if(isNaN(value))execCommand('undo');" value="@(ViewBag.SeatPhone != null ? ViewBag.SeatPhone : "")"></div>
                                <div class="col-xs-4 col-md-2" style="text-align:left">固定电话字符长度不可超过32个字符</div>
                            </div>
                            <div class="row" style="margin-top:5px;margin-bottom:5px;">
                                <div class="col-xs-2 col-md-1" style="text-align:right">手机号码：</div>
                                <div class="col-xs-6 col-md-3"><input id="txtMobilePhone" style="width:350px;display:inline;" class="form-control input-sm" type="text" maxlength="16" onkeyup="if(isNaN(value))execCommand('undo');" value="@(ViewBag.MobilePhone != null ? ViewBag.MobilePhone : "")"></div>
                                <div class="col-xs-4 col-md-2" style="text-align:left">手机号码字符长度不可超过16个字符</div>
                            </div>
                            <div class="row" style="margin-top:5px;margin-bottom:5px;">
                                <div class="col-xs-2 col-md-1" style="text-align:right">邮政编码：</div>
                                <div class="col-xs-6 col-md-3"><input id="txtPostalCode" style="width:350px;display:inline;" class="form-control input-sm" type="text" maxlength="8" onkeyup="if(isNaN(value))execCommand('undo');" value="@(ViewBag.PostalCode != null ? ViewBag.PostalCode : "")"></div>
                                <div class="col-xs-4 col-md-2" style="text-align:left">邮政编码字符长度不可超过8个字符</div>
                            </div>
                            <div class="row" style="margin-top:5px;margin-bottom:5px;">
                                <div class="col-xs-2 col-md-1" style="text-align:right">居住地址：</div>
                                <div class="col-xs-6 col-md-3"><textarea class="form-control" id="txtDwellingPlace" style="width:350px;display:inline;" rows="2" placeholder="居住地址" maxlength="128">@(ViewBag.DwellingPlace != null ? ViewBag.DwellingPlace : "")</textarea></div>
                                <div class="col-xs-4 col-md-2" style="text-align:left">长度不可超过128个字符</div>
                            </div>
                            <div class="row" style="margin-top:5px;margin-bottom:5px;">
                                <div class="col-xs-2 col-md-1" style="text-align:right">用户备注：</div>
                                <div class="col-xs-6 col-md-3"><textarea class="form-control" id="txtUserNote" style="width:350px;display:inline;" rows="2" placeholder="用户备注" maxlength="256">@(ViewBag.UserNote != null ? ViewBag.UserNote : "")</textarea></div>
                                <div class="col-xs-4 col-md-2" style="text-align:left">长度不可超过256个字符</div>
                            </div>
                        </div>
                        <ul class="list-group">
                            <li class="list-group-item">
                                <ul class="list-inline">
                                    <li><a class="btn btn-success search btn-md" href="#" onclick="Add1();"><i class="glyphicon glyphicon-send"></i>保存</a></li>
                                    <li><a class="btn btn-primary search btn-md" href="#" onclick="window.close();"><i class="glyphicon glyphicon-off"></i>关闭</a></li>
                                </ul>
                            </li>
                        </ul>
                    </div>
                </div>

            </div>
        </div>
    </div>
    <script type="text/javascript">
       
        $(document).ready(function () {
           
        });
        
        function Add1() {
            var istrue = true;
            var UserID = parseInt('@ViewBag.Param');
            var istrue = true;
            var QQ = $("#txtQQ").val();
            if (istrue && (QQ != "" && isNaN(QQ))) {
                alert("QQ应为数字");
                istrue = false;
                return false;
            }
            var EMail = $("#txtEMail").val();
            if (istrue && (EMail != "" && !isEmail(EMail))) {
                istrue = false;
                alert("EMail格式不正确");

                return false;
            }

            var SeatPhone = $("#txtSeatPhone").val();
            if (istrue && (SeatPhone != "" && !isPhone(SeatPhone))) {
                istrue = false;
                alert("固话不能格式不正确");
                return false;
            }
            var MobilePhone = $("#txtMobilePhone").val();
            if (istrue && (MobilePhone != "" && !isPhone(MobilePhone))) {
                istrue = false;
                alert("手机号格式不正确");
                return false;
            }
            var DwellingPlace = $("#txtDwellingPlace").val();
            //if (istrue && DwellingPlace == "") {
            //    alert("居住地址不能为空");
            //    return false;
            //}
            var UserNote = $("#txtUserNote").val();
            //if (istrue && UserNote == "") {
            //    istrue = false;
            //    alert("用户备注不能为空");
            //    return false;
            //}
            var Compellation = $("#txtCompellation").val();
            var BankNO = $("#txtBankNO").val();
            var BankName = $("#txtBankName").val();
            var BankAddress = $("#txtBankAddress").val();
            var PostalCode=$('#txtPostalCode').val();
            if (istrue) {
                var data = { UserID: UserID, Accounts: $("#ltAccounts1").html(), QQ: QQ, EMail: EMail, SeatPhone: SeatPhone, MobilePhone: MobilePhone, DwellingPlace: DwellingPlace, UserNote: UserNote, Compellation: Compellation, BankNO: BankNO, BankName: BankName, BankAddress: BankAddress, PostalCode: PostalCode };
                AjaxSubmit("/Account/UpdateIndividualDatum", data, callBack, "add");
            }
        }
        //回调函数
        function callBack(jsonData, fname) {
            if (fname == "add") {
                alert(jsonData.Msg);
                window.close();
                //window.opener.location.reload();
            }
        };
    </script>
</body>
</html>
